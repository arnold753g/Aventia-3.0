# ============================================
# ANDARIA PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================
# IMPORTANT: Copy this file to .env and fill in the actual values
# NEVER commit .env to git!

# -----------------
# Database Settings
# -----------------
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=YOUR_SECURE_DATABASE_PASSWORD_HERE
DB_NAME=Andaria_01
DB_SSLMODE=disable

# -----------------
# Server Settings
# -----------------
SERVER_PORT=5750
SERVER_HOST=0.0.0.0
BACKEND_PORT=5750
FRONTEND_PORT=3000

# -----------------
# JWT Configuration
# -----------------
# Generate with: openssl rand -hex 32
JWT_SECRET=YOUR_SECURE_JWT_SECRET_HERE_MIN_32_CHARS
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=168h

# -----------------
# SMTP Configuration (Gmail)
# -----------------
# For Gmail: Enable 2FA and generate an App Password
# https://support.google.com/accounts/answer/185833
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-gmail-app-password
SMTP_FROM=ANDARIA <your-email@gmail.com>

# -----------------
# OTP Configuration
# -----------------
# Generate with: openssl rand -hex 32
OTP_SECRET=YOUR_SECURE_OTP_SECRET_HERE_MIN_32_CHARS
OTP_EXPIRY_MINUTES=10
OTP_MAX_ATTEMPTS=5
OTP_RESEND_COOLDOWN_SECONDS=60
OTP_MAX_RESENDS_PER_DAY=3

# -----------------
# Password Reset Configuration
# -----------------
PASSWORD_RESET_EXPIRY_MINUTES=20
PASSWORD_RESET_MAX_ATTEMPTS=5

# -----------------
# Purchase Configuration
# -----------------
COMPRA_EXPIRACION_MINUTOS=30

# -----------------
# Frontend Configuration
# -----------------
# For Docker internal communication (backend to frontend)
FRONTEND_BASE_URL=http://frontend:3000

# For browser/client communication
# Development: Use localhost
# Production: Change to your domain (e.g., https://yourdomain.com)
NUXT_PUBLIC_API_BASE=http://localhost:5750/api/v1
NUXT_PUBLIC_WS_BASE=ws://localhost:5750

# CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000

# -----------------
# Admin Bootstrap (optional)
# -----------------
# If set, ensures an admin user exists/updates password.
ADMIN_EMAIL=
ADMIN_PASSWORD=
ADMIN_NOMBRE=Admin
ADMIN_APELLIDO_PATERNO=Andaria
ADMIN_APELLIDO_MATERNO=Admin
ADMIN_CI=99999999
ADMIN_EXPEDIDO=LP
ADMIN_PHONE=70000000
ADMIN_FECHA_NACIMIENTO=1990-01-01
ADMIN_CIUDAD=La Paz

# -----------------
# Seed controls
# -----------------
SEED_DEMO_USERS=false

# Production example (uncomment and modify when deploying):
# NUXT_PUBLIC_API_BASE=https://yourdomain.com/api/v1
# NUXT_PUBLIC_WS_BASE=wss://yourdomain.com

# -----------------
# Environment
# -----------------
APP_ENV=production
NODE_ENV=production

# ==============================================
# SETUP INSTRUCTIONS
# ==============================================
#
# 1. Copy this file: cp .env.production .env
#
# 2. Generate secrets:
#    JWT_SECRET:  openssl rand -hex 32
#    OTP_SECRET:  openssl rand -hex 32
#
# 3. Configure SMTP (Gmail):
#    - Enable 2-Factor Authentication
#    - Generate App Password at: https://myaccount.google.com/apppasswords
#    - Use the App Password in SMTP_PASS
#
# 4. Update database password (DB_PASSWORD)
#
# 5. For production deployment:
#    - Update NUXT_PUBLIC_API_BASE with your domain
#    - Update NUXT_PUBLIC_WS_BASE with your domain (wss://)
#    - Configure SSL certificates in nginx/ssl/
#
# ==============================================
